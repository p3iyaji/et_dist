import{r as C,o as T,q as A,D as L,J as V,c as N,w as O,e as d,f as t,t as a,l as F,m as I,v as P,k as c,g,h as R,j as o,F as $,i as q,n as z,s as H}from"./index-BddoOAJV.js";import{_ as Q}from"./AppLayout-CpCNoFib.js";import{u as E}from"./orderStores-CTEmgiHS.js";import{i as G}from"./laravel-vue-pagination.es-BDZPP852.js";const U={class:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5"},J={class:"mx-auto max-w-screen-xl px-4 lg:px-12"},K={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},W={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 hover:shadow-md transition-shadow"},X={class:"flex items-center justify-between"},Y={class:"min-w-0"},Z={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},tt={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 hover:shadow-md transition-shadow"},et={class:"flex items-center justify-between"},rt={class:"min-w-0"},st={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},at={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 hover:shadow-md transition-shadow"},ot={class:"flex items-center justify-between"},lt={class:"min-w-0"},dt={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},nt={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 hover:shadow-md transition-shadow"},it={class:"flex items-center justify-between"},ct={class:"min-w-0"},gt={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},pt={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden"},ut={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},yt={class:"w-full md:w-1/2"},mt={class:"relative w-full"},xt={class:"overflow-x-auto"},ft={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},ht={key:0,class:"border-b dark:border-gray-700"},bt={key:1,class:"border-b dark:border-gray-700"},wt=["onClick"],kt={class:"px-4 py-3"},vt={class:"px-4 py-3"},_t={class:"px-4 py-3"},Ct={class:"px-4 py-3"},zt={class:"px-4 py-3"},Dt={class:"px-4 py-3"},Mt={class:"px-4 py-3"},jt={class:"px-4 py-3"},Bt={class:"px-4 py-3"},St={class:"px-4 py-3"},Tt={class:"px-4 py-3 flex items-center justify-end"},At={class:"flex items-center"},Lt=["onClick"],Vt={class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},Nt={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},Ot={class:"font-semibold text-gray-900 dark:text-white"},Ft={class:"font-semibold text-gray-900 dark:text-white"},Ht={__name:"OrdersList",setup(It){const r=E(),p=C(""),D=C("");r.fetchOrders(),T(()=>{A()});const M=l=>{r.fetchOrders(l)},u=l=>{r.fetchOrderById(l)},n=L(()=>r.summary||{total_item_discounts:0,total_general_discount:0,total_sales:0,total_orders:0}),i=l=>`₦${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}`;V(p,l=>{clearTimeout(debounceTimeout),debounceTimeout=setTimeout(()=>{D.value=l,r.fetchOrders(1,l)},500)});const j={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",processing:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",refunded:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",partially_refunded:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"},B={pending:"Pending",processing:"Processing",completed:"Completed",cancelled:"Cancelled",refunded:"Refunded"};return(l,e)=>(d(),N(Q,null,{default:O(()=>{var y,m,x,f,h,b,w,k,v,_;return[t("section",U,[t("div",J,[t("div",K,[t("div",W,[t("div",X,[t("div",Y,[e[2]||(e[2]=t("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 truncate"},"Item Discount ",-1)),t("p",Z,a(i(n.value.total_item_discounts)||"₦0"),1)]),e[3]||(e[3]=t("div",{class:"p-3 rounded-lg bg-teal-100 dark:bg-teal-900 ml-2 flex-shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-teal-600 dark:text-teal-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",tt,[t("div",et,[t("div",rt,[e[4]||(e[4]=t("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 truncate"},"General Discount",-1)),t("p",st,a(i(n.value.total_general_discount)||"₦0"),1)]),e[5]||(e[5]=t("div",{class:"p-3 rounded-lg bg-yellow-100 dark:bg-yellow-900 ml-2 flex-shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-yellow-600 dark:text-yellow-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})])],-1))])]),t("div",at,[t("div",ot,[t("div",lt,[e[6]||(e[6]=t("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 truncate"},"Total Refund ",-1)),t("p",dt,a(i(n.value.total_amount_refunded)||"₦0"),1)]),e[7]||(e[7]=t("div",{class:"p-3 rounded-lg bg-red-100 dark:bg-red-900 ml-2 flex-shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-600 dark:text-red-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",nt,[t("div",it,[t("div",ct,[e[8]||(e[8]=t("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 truncate"},"Total Sales",-1)),t("p",gt,a(i(n.value.total_sales)||"₦0"),1)]),e[9]||(e[9]=t("div",{class:"p-3 rounded-lg bg-green-100 dark:bg-green-900 ml-2 flex-shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})])],-1))])])]),t("div",pt,[e[19]||(e[19]=t("h2",{class:"p-5 text-lg"},"All Sales",-1)),t("div",ut,[t("div",yt,[t("form",{class:"flex items-center",onSubmit:e[1]||(e[1]=F(()=>{},["prevent"]))},[e[11]||(e[11]=t("label",{for:"simple-search",class:"sr-only"},"Search",-1)),t("div",mt,[e[10]||(e[10]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),I(t("input",{type:"text",id:"simple-search","onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search"},null,512),[[P,p.value]])])],32)]),e[12]||(e[12]=t("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},[t("div",{class:"flex items-center space-x-3 w-full md:w-auto"},[t("button",{id:"actionsDropdownButton","data-dropdown-toggle":"actionsDropdown",class:"w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",type:"button"},[t("svg",{class:"-ml-1 mr-1.5 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})]),c(" Actions ")]),t("div",{id:"actionsDropdown",class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"},[t("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"actionsDropdownButton"},[t("li",null,[t("a",{href:"#",class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"Mass Edit")])]),t("div",{class:"py-1"},[t("a",{href:"#",class:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Delete all")])]),t("button",{id:"filterDropdownButton","data-dropdown-toggle":"filterDropdown",class:"w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",type:"button"},[t("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"h-4 w-4 mr-2 text-gray-400",viewbox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})]),c(" Filter "),t("svg",{class:"-mr-1 ml-1.5 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})])]),t("div",{id:"filterDropdown",class:"z-10 hidden w-48 p-3 bg-white rounded-lg shadow dark:bg-gray-700"},[t("h6",{class:"mb-3 text-sm font-medium text-gray-900 dark:text-white"},"Choose brand"),t("ul",{class:"space-y-2 text-sm","aria-labelledby":"filterDropdownButton"},[t("li",{class:"flex items-center"},[t("input",{id:"apple",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),t("label",{for:"apple",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Apple (56)")]),t("li",{class:"flex items-center"},[t("input",{id:"fitbit",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),t("label",{for:"fitbit",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Microsoft (16)")]),t("li",{class:"flex items-center"},[t("input",{id:"razor",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),t("label",{for:"razor",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Razor (49)")]),t("li",{class:"flex items-center"},[t("input",{id:"nikon",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),t("label",{for:"nikon",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Nikon (12)")]),t("li",{class:"flex items-center"},[t("input",{id:"benq",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),t("label",{for:"benq",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"BenQ (74)")])])])])],-1))]),t("div",xt,[t("table",ft,[e[16]||(e[16]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3"},"#ID"),t("th",{scope:"col",class:"px-4 py-3"},"Order No"),t("th",{scope:"col",class:"px-4 py-3"},"Status"),t("th",{scope:"col",class:"px-4 py-3"},"Item Discount"),t("th",{scope:"col",class:"px-4 py-3"},"General Discount"),t("th",{scope:"col",class:"px-4 py-3"},"Subtotal"),t("th",{scope:"col",class:"px-4 py-3"},"Total"),t("th",{scope:"col",class:"px-4 py-3"},"Amount Tendered"),t("th",{scope:"col",class:"px-4 py-3"},"Change"),t("th",{scope:"col",class:"px-4 py-3"},"Refund"),t("th",{scope:"col",class:"px-4 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",null,[o(r).isLoading&&!((y=o(r).orders.data)!=null&&y.length)?(d(),g("tr",ht,e[13]||(e[13]=[t("td",{colspan:"7",class:"px-4 py-12 text-center"},[t("div",{class:"flex justify-center items-center"},[t("svg",{class:"animate-spin h-8 w-8 text-teal-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),t("span",{class:"ml-2"},"Loading orders...")])],-1)]))):!o(r).isLoading&&!((m=o(r).orders.data)!=null&&m.length)?(d(),g("tr",bt,e[14]||(e[14]=[t("td",{colspan:"7",class:"px-4 py-12 text-center text-gray-500 dark:text-gray-400"}," No orders found ",-1)]))):R("",!0),(d(!0),g($,null,q(o(r).orders.data,s=>(d(),g("tr",{key:s.id,onClick:S=>u(s.id),class:z(["border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer transition-colors",{"opacity-50":o(r).isLoading}])},[t("td",kt,a(s.id),1),t("td",vt,a(s.order_no),1),t("td",_t,[t("span",{class:z(["text-xs font-medium px-2 py-0.5 rounded",j[s.status]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"])},a(B[s.status]||s.status),3)]),t("td",Ct,a(s.item_discounts),1),t("td",zt,a(s.general_discount),1),t("td",Dt,a(s.subtotal),1),t("td",Mt,a(s.total),1),t("td",jt,a(s.amount_tendered),1),t("td",Bt,a(s.change_due),1),t("td",St,a(s.amount_refunded),1),t("td",Tt,[t("div",At,[t("button",{onClick:S=>u(s.id),class:"block py-1 px-4 mr-2 text-white rounded-md bg-teal-500 hover:bg-teal-600 dark:hover:bg-teal-700"}," View ",8,Lt),e[15]||(e[15]=t("div",null,null,-1))])])],10,wt))),128))])])]),t("nav",Vt,[t("span",Nt,[e[17]||(e[17]=c(" Showing ")),t("span",Ot,a(((x=o(r).orders.meta)==null?void 0:x.from)??0)+" - "+a(((f=o(r).orders.meta)==null?void 0:f.to)??0),1),e[18]||(e[18]=c(" of ")),t("span",Ft,a(((h=o(r).orders.meta)==null?void 0:h.total)??0),1)]),H(o(G),{data:{current_page:(b=o(r).orders.meta)==null?void 0:b.current_page,last_page:(w=o(r).orders.meta)==null?void 0:w.last_page,per_page:(k=o(r).orders.meta)==null?void 0:k.per_page,total:(v=o(r).orders.meta)==null?void 0:v.total,links:(_=o(r).orders)==null?void 0:_.links},onPaginationChangePage:M},null,8,["data"])])])])])]}),_:1}))}};export{Ht as default};
