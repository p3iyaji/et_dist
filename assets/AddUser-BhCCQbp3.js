import{r as M,c as _,w as U,q as C,y as V,e as d,f as r,g as l,h as i,j as o,t as n,l as A,m as u,n as m,v as c,z as B,A as E,k as S}from"./index-BLk6GGVK.js";import{_ as z}from"./AppLayout-CHbZXINC.js";import{u as N}from"./userStore-Dtlh0yEB.js";import{S as w}from"./sweetalert2.esm.all-BQIkj5Wb.js";const j={class:"max-w-4xl mx-auto"},L={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden"},R={class:"p-6"},D={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},P={class:"space-y-6"},T={key:0,class:"mt-1 text-sm text-red-600"},q={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},$={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},G={class:"flex items-center"},I={class:"flex justify-end pt-4"},J=["disabled"],K={key:0},O={key:1,class:"flex items-center"},rr={__name:"AddUser",setup(Q){const s=N(),p=C();V();const a=M({name:"",email:"",password:"",password_confirmation:"",is_active:!0,role:""}),v=async()=>{try{const{success:g,data:e}=await s.createUser({name:a.value.name,email:a.value.email,password:a.value.password,password_confirmation:a.value.password_confirmation,is_active:a.value.is_active,role:a.value.role});g?(w.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,title:"User created successfully!"}),p.push("/users")):s.errorMessage.general&&w.fire({icon:"error",title:"Error",text:s.errorMessage.general[0]})}catch(g){console.error("Error creating user: ",g)}},h=()=>{p.go(-1)};return(g,e)=>(d(),_(z,null,{default:U(()=>{var f,y,b,x,k;return[r("div",j,[r("div",L,[r("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[r("div",{class:"flex justify-between items-center"},[e[6]||(e[6]=r("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Add User ",-1)),r("button",{onClick:h,type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"}," Back ")])]),r("div",R,[o(s).errorMessage.general?(d(),l("div",D,n(o(s).errorMessage.general[0]),1)):i("",!0),r("form",{onSubmit:A(v,["prevent"])},[r("div",P,[r("div",null,[e[7]||(e[7]=r("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," User Name ",-1)),u(r("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.name=t),type:"text",id:"name",class:m([{"border-red-500":o(s).errorMessage.name,"border-gray-300":!o(s).errorMessage.name},"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"]),placeholder:"Enter user name"},null,2),[[c,a.value.name]]),(f=o(s).errorMessage)!=null&&f.name?(d(),l("p",T,n(o(s).errorMessage.name[0]),1)):i("",!0)]),r("div",null,[e[8]||(e[8]=r("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," User Email ",-1)),u(r("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.email=t),type:"text",id:"email",class:m([{"border-red-500":o(s).errorMessage.email,"border-gray-300":!o(s).errorMessage.email},"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"]),placeholder:"Enter user email"},null,2),[[c,a.value.email]]),(y=o(s).errorMessage)!=null&&y.email?(d(),l("p",q,n(o(s).errorMessage.email[0]),1)):i("",!0)]),r("div",null,[e[10]||(e[10]=r("label",{for:"role",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," User Role ",-1)),u(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.role=t),id:"role",class:m([{"border-red-500":o(s).errorMessage.role,"border-gray-300":!o(s).errorMessage.role},"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"])},e[9]||(e[9]=[r("option",{value:"",disabled:"",selected:""},"Select a role",-1),r("option",{value:"Admin"},"Admin",-1),r("option",{value:"Manager"},"Manager",-1),r("option",{value:"Cashier"},"Cashier",-1)]),2),[[B,a.value.role]]),(b=o(s).errorMessage)!=null&&b.role?(d(),l("p",H,n(o(s).errorMessage.role[0]),1)):i("",!0)]),r("div",null,[e[11]||(e[11]=r("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," User Password ",-1)),u(r("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.password=t),type:"password",id:"password",class:m([{"border-red-500":o(s).errorMessage.password,"border-gray-300":!o(s).errorMessage.password},"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"]),placeholder:"Enter user password"},null,2),[[c,a.value.password]]),(x=o(s).errorMessage)!=null&&x.password?(d(),l("p",$,n(o(s).errorMessage.password[0]),1)):i("",!0)]),r("div",null,[e[12]||(e[12]=r("label",{for:"password_confirmation",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Confirm Password ",-1)),u(r("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.password_confirmation=t),type:"password",id:"password",class:m([{"border-red-500":o(s).errorMessage.password_confirmation,"border-gray-300":!o(s).errorMessage.password_confirmation},"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"]),placeholder:"Enter confirmation password"},null,2),[[c,a.value.password_confirmation]]),(k=o(s).errorMessage)!=null&&k.password_confirmation?(d(),l("p",F,n(o(s).errorMessage.password_confirmation[0]),1)):i("",!0)]),r("div",G,[u(r("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.is_active=t),type:"checkbox",id:"is_active",class:"w-4 h-4 text-teal-600 bg-gray-100 border-gray-300 rounded focus:ring-teal-500 dark:focus:ring-teal-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[E,a.value.is_active]]),e[13]||(e[13]=r("label",{for:"is_active",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Active ",-1))]),r("div",I,[r("button",{type:"submit",disabled:o(s).isLoading,class:m(["px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white font-medium rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200",{"opacity-50 cursor-not-allowed":o(s).isLoading}])},[o(s).isLoading?(d(),l("span",O,e[14]||(e[14]=[r("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),S(" Adding... ")]))):(d(),l("span",K,"Add User"))],10,J)])])],32)])])])]}),_:1}))}};export{rr as default};
