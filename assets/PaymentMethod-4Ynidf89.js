import{r as i,E as w,g as l,e as s,f as o,h as c,F as A,i as M,n as P,t as v,m as D,v as T}from"./index-BLk6GGVK.js";import{S as b}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"payment-method-container"},$={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},B={class:"bg-white rounded-lg p-6 w-full max-w-md"},E={class:"grid grid-cols-3 gap-2 mb-4"},N=["onClick"],I={key:0,class:"mb-4"},V={key:0,class:"text-green-600 mt-1"},j={key:1,class:"text-red-600 mt-1"},z={class:"flex justify-end space-x-2 mt-4"},K={__name:"PaymentMethod",props:{totalAmount:{type:Number,required:!0}},emits:["payment-completed"],setup(x,{emit:h}){const d=x,_=h,k=i([{id:1,name:"Cash",value:"cash"},{id:2,name:"Card",value:"card"},{id:3,name:"Transfer",value:"transfer"}]),a=i(null),n=i(0),m=i(!1),r=w(()=>!n.value||!a.value?0:n.value-d.totalAmount),C=()=>{if(!a.value){b.fire({title:"Error!",text:"Please select a payment method",icon:"error",confirmButtonText:"OK"});return}if(a.value.value==="cash"&&n.value<d.totalAmount){b.fire({title:"Error!",text:`Amount tendered (${u(n.value)}) is less than total (${u(d.totalAmount)})`,icon:"error",confirmButtonText:"OK"});return}_("payment-completed",{method:a.value.value,amountTendered:n.value,changeDue:r.value}),a.value=null,n.value=0},u=p=>`â‚¦${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(p)}`;return(p,e)=>{var f;return s(),l("div",S,[o("button",{onClick:e[0]||(e[0]=t=>m.value=!0),class:"w-full bg-teal-800 text-white py-3 rounded-lg font-bold hover:bg-teal-700 transition"}," Select Payment Method "),m.value?(s(),l("div",$,[o("div",B,[e[5]||(e[5]=o("h3",{class:"text-lg font-bold mb-4 text-teal-600"},"Select Payment Method",-1)),o("div",E,[(s(!0),l(A,null,M(k.value,t=>{var g,y;return s(),l("button",{key:t.id,onClick:O=>a.value=t,class:P([{"bg-teal-800 text-white":((g=a.value)==null?void 0:g.id)===t.id,"bg-gray-100 hover:bg-gray-200":((y=a.value)==null?void 0:y.id)!==t.id},"p-2 rounded-lg text-center transition"])},v(t.name),11,N)}),128))]),((f=a.value)==null?void 0:f.value)==="cash"?(s(),l("div",I,[e[4]||(e[4]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Amount Tendered",-1)),D(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),type:"number",min:"0",step:"0.01",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-teal-500",onInput:e[2]||(e[2]=t=>n.value=parseFloat(t.target.value)||0)},null,544),[[T,n.value]]),r.value>0?(s(),l("div",V," Change Due: "+v(u(r.value)),1)):r.value<0?(s(),l("div",j," Amount insufficient ("+v(u(-r.value))+" needed) ",1)):c("",!0)])):c("",!0),o("div",z,[o("button",{onClick:e[3]||(e[3]=t=>m.value=!1),class:"px-4 py-2 bg-gray-200 rounded-lg"}," Cancel "),o("button",{onClick:C,class:"px-4 py-2 bg-teal-800 text-white rounded-lg"}," Complete Payment ")])])])):c("",!0)])}}},G=F(K,[["__scopeId","data-v-73b4b050"]]);export{G as default};
