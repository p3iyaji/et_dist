import{r as k,o as x,y as h,c as w,w as v,q as C,e as d,f as r,l as M,m as i,g as n,h as u,v as m,j as o,t as p,n as _,k as B}from"./index-C6ml-qKZ.js";import{_ as S}from"./AppLayout-CcZViM9-.js";import{u as V}from"./customerStore-ctpokVov.js";import{S as f}from"./sweetalert2.esm.all-BQIkj5Wb.js";const E={class:"max-w-4xl mx-auto"},U={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden"},N={class:"space-y-6"},j={key:0,class:"text-red-600"},z={key:0,class:"text-red-600"},L={key:0,class:"text-red-600"},D={key:0,class:"text-red-600"},I={class:"flex justify-end pt-4"},R=["disabled"],T={key:0},q={key:1,class:"flex items-center"},J={__name:"UpdateCustomer",setup(A){const t=V(),c=C(),g=h(),s=k({name:"",phone:"",address:"",email:""});x(async()=>{await t.fetchCustomers();const l=g.params.id,e=await t.fetchCustomerById(l);e&&(s.value={name:e.name,phone:e.phone,email:e.phone,address:e.address})});const y=async()=>{t.errorMessage={},await t.updateCustomer(g.params.id,s.value)?(f.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,title:"Customer updated successfully!"}),c.push("/customers")):t.errorMessage.general&&f.fire({icon:"error",title:"Error",text:t.errorMessage.general[0]})},b=()=>{c.go(-1)};return(l,e)=>(d(),w(S,null,{default:v(()=>[r("div",E,[r("div",U,[r("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[r("div",{class:"flex justify-between items-center"},[e[4]||(e[4]=r("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Update Customer ",-1)),r("button",{onClick:b,type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"}," Back ")])]),r("form",{onSubmit:M(y,["prevent"])},[r("div",N,[r("div",null,[e[5]||(e[5]=r("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer Name ",-1)),i(r("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),type:"text",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter unit name"},null,512),[[m,s.value.name]]),o(t).errorMessage.name?(d(),n("span",j,p(o(t).errorMessage.name[0]),1)):u("",!0)]),r("div",null,[e[6]||(e[6]=r("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer Email ",-1)),i(r("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),type:"text",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer email"},null,512),[[m,s.value.email]]),o(t).errorMessage.email?(d(),n("span",z,p(o(t).errorMessage.email[0]),1)):u("",!0)]),r("div",null,[e[7]||(e[7]=r("label",{for:"phone",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer phone ",-1)),i(r("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.phone=a),type:"text",id:"phone",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer phone"},null,512),[[m,s.value.phone]]),o(t).errorMessage.phone?(d(),n("span",L,p(o(t).errorMessage.phone[0]),1)):u("",!0)]),r("div",null,[e[8]||(e[8]=r("label",{for:"address",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer address ",-1)),i(r("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.address=a),type:"text",id:"address",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer phone"},null,512),[[m,s.value.address]]),o(t).errorMessage.address?(d(),n("span",D,p(o(t).errorMessage.address[0]),1)):u("",!0)]),r("div",I,[r("button",{type:"submit",disabled:l.authStore.isLoading,class:_(["px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white font-medium rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200",{"opacity-50 cursor-not-allowed":l.authStore.isLoading}])},[l.authStore.isLoading?(d(),n("span",q,e[9]||(e[9]=[r("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),B(" Creating... ")]))):(d(),n("span",T,"Create Customer"))],10,R)])])],32)])])]),_:1}))}};export{J as default};
