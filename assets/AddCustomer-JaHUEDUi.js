import{u as x,r as k,c as h,w,s as v,e as d,f as e,g as l,h as i,j as t,t as n,m as C,p as u,v as m,n as _,k as M}from"./index-DN1la__8.js";import{_ as B}from"./AppLayout-vBxF1_vo.js";import{u as S}from"./customerStore-BckTIwYD.js";import{S as y}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./settingsStore-B-d95HMW.js";const V={class:"max-w-4xl mx-auto"},E={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden"},A={class:"p-6"},N={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},U={class:"space-y-6"},j={key:0,class:"text-red-600"},z={key:0,class:"text-red-600"},L={key:0,class:"text-red-600"},D={key:0,class:"text-red-600"},T={class:"flex justify-end pt-4"},F=["disabled"],H={key:0},R={key:1,class:"flex items-center"},O={__name:"AddCustomer",setup($){const c=x(),s=S(),p=v(),o=k({name:"",email:"",address:"",phone:""}),f=async()=>{var g;try{const{success:r,data:a}=await s.createCustomer({name:o.value.name,address:o.value.address,email:o.value.email,phone:o.value.phone});r&&(await y.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3,title:a.message||"Customer created successfully!"}),p.push("/customers"))}catch(r){console.error("Customer creation error:",r),await y.fire({icon:"error",title:"Error",text:((g=s.errorMessage.general)==null?void 0:g[0])||"Failed to create customer"})}},b=()=>{p.go(-1)};return(g,r)=>(d(),h(B,null,{default:w(()=>[e("div",V,[e("div",E,[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[e("div",{class:"flex justify-between items-center"},[r[4]||(r[4]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Add Customer ",-1)),e("button",{onClick:b,type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"}," Back ")])]),e("div",A,[t(s).errorMessage.general?(d(),l("div",N,n(t(s).errorMessage.general[0]),1)):i("",!0),e("form",{onSubmit:C(f,["prevent"])},[e("div",U,[e("div",null,[r[5]||(r[5]=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer Name ",-1)),u(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>o.value.name=a),type:"text",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer name"},null,512),[[m,o.value.name]]),t(s).errorMessage.name?(d(),l("span",j,n(t(s).errorMessage.name[0]),1)):i("",!0)]),e("div",null,[r[6]||(r[6]=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer Email ",-1)),u(e("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>o.value.email=a),type:"text",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer email"},null,512),[[m,o.value.email]]),t(s).errorMessage.email?(d(),l("span",z,n(t(s).errorMessage.email[0]),1)):i("",!0)]),e("div",null,[r[7]||(r[7]=e("label",{for:"phone",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer phone ",-1)),u(e("input",{"onUpdate:modelValue":r[2]||(r[2]=a=>o.value.phone=a),type:"text",id:"phone",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer phone"},null,512),[[m,o.value.phone]]),t(s).errorMessage.phone?(d(),l("span",L,n(t(s).errorMessage.phone[0]),1)):i("",!0)]),e("div",null,[r[8]||(r[8]=e("label",{for:"address",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Customer address ",-1)),u(e("input",{"onUpdate:modelValue":r[3]||(r[3]=a=>o.value.address=a),type:"text",id:"address",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Enter customer phone"},null,512),[[m,o.value.address]]),t(s).errorMessage.address?(d(),l("span",D,n(t(s).errorMessage.address[0]),1)):i("",!0)]),e("div",T,[e("button",{type:"submit",disabled:t(c).isLoading,class:_(["px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white font-medium rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200",{"opacity-50 cursor-not-allowed":t(c).isLoading}])},[t(c).isLoading?(d(),l("span",R,r[9]||(r[9]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),M(" Creating... ")]))):(d(),l("span",H,"Create Customer"))],10,F)])])],32)])])])]),_:1}))}};export{O as default};
