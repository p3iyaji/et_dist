import{r as d,D as m,g as a,e as o,f as s,m as x,v as C,F as E,i as k,n as p,t as w}from"./index-BddoOAJV.js";const $={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},V={class:"bg-white rounded-lg shadow-xl w-64"},B={class:"p-4"},F={class:"text-xs text-gray-500 mb-2 h-6"},M={key:0,class:"text-red-500"},S={key:1},A={class:"grid grid-cols-4 gap-2"},D=["onClick","disabled"],N={class:"mt-4 flex space-x-2"},T=["disabled"],n=15,L={__name:"Calculator",props:{modelValue:String},emits:["close","apply"],setup(z,{emit:g}){const c=g,e=d(""),v=d(["7","8","9","/","4","5","6","*","1","2","3","-","0",".","=","+","C","⌫","%"]),h=t=>{let l=t.replace(/[^0-9+\-*/.%()]/g,"");return l=l.replace(/([\d.]+)%/g,(r,u)=>`(${u}/100)`),l=l.replace(/×/g,"*").replace(/÷/g,"/"),l},b=t=>typeof t!="number"||!isFinite(t)?"Error":(Math.round(t*1e8)/1e8).toString().replace(/\.0+$/,""),_=t=>{if(!t||t.length>n)return"Error";try{const l=h(t);if(!l)return"Error";const r=new Function(`return ${l}`)();return b(r)}catch{return"Error"}},y=t=>{t==="C"?e.value="":t==="⌫"?e.value=e.value.slice(0,-1):t==="="?e.value=_(e.value):e.value.length<n&&(e.value+=t)},f=()=>{e.value&&e.value!=="Error"&&(c("apply",e.value),c("close"))},i=m(()=>e.value&&e.value!=="Error"&&!e.value.endsWith("="));return(t,l)=>(o(),a("div",$,[s("div",V,[s("div",B,[x(s("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>e.value=r),type:"text",class:"w-full p-2 mb-2 border border-gray-300 rounded text-right text-xl font-mono",readonly:""},null,512),[[C,e.value]]),s("div",F,[e.value.length>=n?(o(),a("span",M," Max length reached ")):(o(),a("span",S," Operators: + - * / % "))]),s("div",A,[(o(!0),a(E,null,k(v.value,r=>(o(),a("button",{onClick:u=>y(r),disabled:r!=="C"&&e.value.length>=n,class:p([{"bg-teal-100 hover:bg-teal-200":!["C","⌫","%","="].includes(r),"bg-red-100 hover:bg-red-200":r==="C","bg-gray-100 hover:bg-gray-200":["⌫","%"].includes(r),"bg-blue-100 hover:bg-blue-200":r==="=","opacity-50":r!=="C"&&e.value.length>=n},"p-2 rounded transition disabled:opacity-50"])},w(r),11,D))),256))]),s("div",N,[s("button",{onClick:f,disabled:!i.value,class:p([{"bg-teal-800 text-white":i.value,"bg-teal-300 text-white cursor-not-allowed":!i.value},"flex-1 py-2 rounded hover:bg-teal-700 transition"])}," Apply to Search ",10,T),s("button",{onClick:l[1]||(l[1]=r=>t.$emit("close")),class:"flex-1 bg-gray-300 py-2 rounded hover:bg-gray-400 transition"}," Close ")])])])]))}};export{L as default};
